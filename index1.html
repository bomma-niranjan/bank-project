<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Appointment Booking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("IG0x-eR83latZUklL");
        })();
    </script>
    <style>
        body {
            background-color: #eff2f2;
        }

        .container {
            margin-top: 50px;
        }

        .service-card {
            margin-bottom: 20px;
            background-color: #f1f1f1;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .service-card i {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .service-card h6 {
            margin-bottom: 10px;
        }

        .service-card .btn {
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">SecureBank</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#appointment">Book Appointment</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <button id="logoutBtn" class="btn btn-danger">Logout</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="appointment" class="card shadow mb-4">
            <div class="card-body">
                <h5 class="card-title">Book an Appointment</h5>
                <hr>
                <form id="appointmentForm">
                    <div class="mb-3">
                        <label for="appointmentDate" class="form-label">Select Date</label>
                        <input type="date" id="appointmentDate" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="appointmentTime" class="form-label">Select Time Slot</label>
                        <select id="appointmentTime" class="form-select" required>
                            <option value="" disabled selected>Select a time slot</option>
                            <option value="9:00 AM">9:00 AM</option>
                            <option value="10:00 AM">10:00 AM</option>
                            <option value="11:00 AM">11:00 AM</option>
                            <option value="2:00 PM">2:00 PM</option>
                            <option value="3:00 PM">3:00 PM</option>
                            <option value="4:00 PM">4:00 PM</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="issue" class="form-label">Select Issue</label>
                        <select id="issue" class="form-select" required>
                            <option value="" disabled selected>Select an issue</option>
                            <option value="Account Opening">Account Opening</option>
                            <option value="Loan Inquiry">Loan Inquiry</option>
                            <option value="Card Services">Card Services</option>
                            <option value="General Query">General Query</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Your Email</label>
                        <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Book Appointment</button>
                </form>
            </div>
        </div>

        <div id="services" class="card shadow">
            <div class="card-body">
                <h5 class="card-title">Our Services</h5>
                <hr>
                <div class="row">
                    <div class="col-md-3 service-card" style="background-color: #d1e7fd;">
                        <i class="fas fa-user-tie"></i>
                        <h6 class="card-title">Account Management</h6>
                        <p class="card-text">Manage your accounts efficiently.</p>
                        <a href="account_management.html" class="btn btn-primary">Read More</a>
                    </div>
                    <div class="col-md-3 service-card" style="background-color: #d4edda;">
                        <i class="fas fa-hand-holding-usd"></i>
                        <h6 class="card-title">Loan Processing</h6>
                        <p class="card-text">Quick and easy loan services.</p>
                        <a href="loan_processing.html" class="btn btn-primary">Read More</a>
                    </div>
                    <div class="col-md-3 service-card" style="background-color: #f8d7da;">
                        <i class="fas fa-credit-card"></i>
                        <h6 class="card-title">Card Services</h6>
                        <p class="card-text">Get assistance with debit and credit cards.</p>
                        <a href="card_services.html" class="btn btn-primary">Read More</a>
                    </div>
                    <div class="col-md-3 service-card" style="background-color: #fff3cd;">
                        <i class="fas fa-laptop-house"></i>
                        <h6 class="card-title">Online Banking</h6>
                        <p class="card-text">Support for online banking activities.</p>
                        <a href="online_banking.html" class="btn btn-primary">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDOo5pcpVEBGeK1Mk7PjOsJW_fDBhPkl-U",
            authDomain: "bankappointment-a479c.firebaseapp.com",
            projectId: "bankappointment-a479c",
            storageBucket: "bankappointment-a479c.firebasestorage.app",
            messagingSenderId: "318938286613",
            appId: "1:318938286613:web:d815fdd13472a2bb401c1c",
            measurementId: "G-G01PCZ4Q8C"
        };

        const today = new Date().toISOString().split('T')[0];
        document.getElementById('appointmentDate').setAttribute('min', today);

        document.getElementById('appointmentForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const formData = {
                appointment_date: document.getElementById('appointmentDate').value,
                appointment_time: document.getElementById('appointmentTime').value,
                issue: document.getElementById('issue').value,
                user_email: document.getElementById('email').value,
            };

            emailjs.send("service_qy2rzaf", "template_a770tk9", {
                to_email: formData.user_email,
                appointment_date: formData.appointment_date,
                appointment_time: formData.appointment_time,
                issue: formData.issue,
            })
            .then(response => {
                window.location.href = "confirmation.html?date=" + encodeURIComponent(formData.appointment_date) + "&time=" + encodeURIComponent(formData.appointment_time) + "&issue=" + encodeURIComponent(formData.issue);
            })
            .catch(error => {
                alert("Failed to send email. Please try again.");
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
